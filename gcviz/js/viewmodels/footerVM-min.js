(function(){define(["jquery","knockout","gcviz-i18n","gcviz-gisgeo"],function(f,c,e,b){var a,d;a=function(j,g,h){var i=function(o,m,n){var k=this,q=locationPath+"gcviz/images/footNorthArrow.png",p=n.mousecoords,l=n.northarrow.inwkid;k.imgNorth=q;k.outSR=b.getOutSR(p.outwkid);k.gsvc=b.getGSVC(p.urlgeomserv);k.init=function(){var r=vmArray[m].map.map;if(n.mousecoords){r.on("mouse-move",function(s){k.showCoordinates(s,"mousecoord_"+m)})}if(n.northarrow){r.on("pan-end",function(s){k.showNorthArrow(s,"north_"+m,l)});r.on("zoom-end",function(s){k.showNorthArrow(s,"north_"+m,l)})}return{controlsDescendantBindings:true}};k.showCoordinates=function(r,s){b.getCoord(r.mapPoint,s,k.outSR,k.gsvc)};k.showNorthArrow=function(r,t,s){b.getNorthAngle(r.extent,t,s,k.gsvc)};k.init()};d=new i(j,g,h);c.applyBindings(d,j[0]);return d};return{initialize:a}})}).call(this);