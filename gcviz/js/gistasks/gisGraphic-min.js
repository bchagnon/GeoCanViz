(function(){define(["jquery","esri/toolbars/draw","esri/symbols/Font","esri/symbols/SimpleLineSymbol","esri/symbols/TextSymbol","esri/graphic"],function(b){var a;a=function(c){var d=function(g){var e=this,h,i,k,j=g,f=new esri.symbol.Font();e.init=function(){i=new esri.toolbars.Draw(j,{showTooltips:false});dojo.connect(i,"onDrawEnd",h);f.setSize("10pt");f.setWeight(esri.symbol.Font.WEIGHT_BOLD)};e.drawLine=function(){i.activate(esri.toolbars.Draw.FREEHAND_POLYLINE)};e.drawText=function(l){k=l;i.activate(esri.toolbars.Draw.POINT)};e.erase=function(){j.graphics.clear()};h=function(n){var m,o,l=b("#"+j.vIdName+"_holder_container");i.deactivate();if(n.type==="polyline"){m=new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new dojo.Color("#FF0000"),3);l.removeClass("gcviz-draw-cursor")}else{if(n.type==="point"){m=new esri.symbol.TextSymbol(k);m.setFont(f);m.setOffset(0,0);k="";l.removeClass("gcviz-text-cursor")}}o=new esri.Graphic(n,m);j.graphics.add(o)};e.init()};return new d(c)};return{initialize:a}})}());