(function(){define(["esri/tasks/ProjectParameters","esri/tasks/GeometryService","esri/SpatialReference","esri/geometry/Point"],function(){var e,d,c,g,f=new esri.tasks.ProjectParameters(),a,b;e=function(h){return new esri.SpatialReference({wkid:h})};d=function(h){return new esri.tasks.GeometryService(h)};c=function(i,k,h,j){f.geometries=[i];f.outSR=h;j.project(f,function(l){i=l[0];dojo.byId(k).innerHTML=" Lat: "+i.y.toFixed(3)+" Long: "+i.x.toFixed(3)})};g=function(k,m,i,j){var h=new esri.SpatialReference({wkid:4326}),l=new esri.geometry.Point((k.xmin+k.xmax)/2,k.ymin,new esri.SpatialReference({wkid:i}));f.geometries=[l];f.outSR=h;j.project(f,function(r){var o={x:-100,y:90},p,t,s,n,u,q;l=r[0];p=(l.x-o.x)*Math.PI/180;t=o.y*Math.PI/180;s=l.y*Math.PI/180;u=Math.sin(p)*Math.cos(s);n=Math.cos(t)*Math.sin(s)-Math.sin(t)*Math.cos(s)*Math.cos(p);q=Math.atan2(u,n)*180/Math.PI;q=((q+360)%360).toFixed(1)-90;dojo.byId(m).style.webkitTransform="rotate("+q+"deg)";dojo.byId(m).style.MozTransform="rotate("+q+"deg)";dojo.byId(m).style.msTransform="rotate("+q+"deg)";dojo.byId(m).style.OTransform="rotate("+q+"deg)";dojo.byId(m).style.transform="rotate("+q+"deg)"})};return{getOutSR:e,getGSVC:d,getCoord:c,getNorthAngle:g}})}());